{"ast":null,"code":"var _jsxFileName = \"D:\\\\dougnut-chart-library\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport chart from \"chart.js/dist/chart\";\nimport React, { useRef } from \"react\";\nimport { Doughnut, Pie } from \"react-chartjs-2\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst data = {\n  labels: [\"lable_1\", \"lable_2\", \"lable_3\", \"lable_4\", \"lable_5\", \"lable_6\", \"lable_7\", \"lable_8\", \"lable_9\", \"lable_10\", \"lable_11\", \"lable_12\", \"lable_13\", \"lable_14\", \"lable_15\", \"lable_16\", \"lable_17\", \"lable_18\", \"lable_19\", \"lable_20\", \"lable_21\", \"lable_22\", \"lable_23\", \"lable_24\", \"lable_25\", \"lable_26\", \"lable_27\", \"lable_28\", \"lable_29\", \"lable_30\", \"lable_31\", \"lable_32\", \"lable_33\", \"lable_34\", \"lable_35\", \"lable_36\", \"lable_37\", \"lable_38\", \"lable_39\", \"lable_40\", \"lable_41\", \"lable_42\", \"lable_43\", \"lable_44\", \"lable_45\", \"lable_46\", \"lable_47\", \"lable_48\", \"lable_49\", \"lable_50\"],\n  datasets: [{\n    backgroundColor: [],\n    data: [74, 22, 77, 19, 72, 17, 55, 14, 64, 93, 99, 58, 6, 13, 31, 61, 19, 97, 25, 94, 50, 83, 3, 15, 54, 19, 60, 41, 37, 27, 51, 21, 36, 69, 80, 20, 64, 74, 79, 48, 66, 1, 94, 57, 5, 18, 83, 41, 64, 48]\n  }]\n};\n\nconst getOrCreateLegendList = (chart, id) => {\n  const legendContainer = document.getElementById(id);\n  let listContainer = legendContainer.querySelector(\"ul\");\n\n  if (!listContainer) {\n    listContainer = document.createElement(\"ul\");\n    listContainer.style.display = \"flex\";\n    listContainer.style.flexDirection = \"column\";\n    listContainer.style.margin = 0;\n    listContainer.style.padding = 0;\n    legendContainer.appendChild(listContainer);\n  }\n\n  return listContainer;\n};\n\nconst htmlLegendPlugin = {\n  id: \"htmlLegend\",\n\n  afterUpdate(chart, args, options) {\n    const ul = getOrCreateLegendList(chart, options.containerID); // Remove old legend items\n\n    while (ul.firstChild) {\n      ul.firstChild.remove();\n    } // Reuse the built-in legendItems generator\n\n\n    const items = chart.options.plugins.legend.labels.generateLabels(chart);\n    items.forEach(item => {\n      const li = document.createElement(\"li\");\n      li.style.alignItems = \"center\";\n      li.style.cursor = \"pointer\";\n      li.style.display = \"flex\";\n      li.style.flexDirection = \"row\";\n      li.style.marginLeft = \"10px\";\n      li.style.marginBottom = \"5px\";\n      let legendItems = chart.legend.legendItems;\n      let count = 0;\n      let iValue = -1;\n\n      for (let i = 0; i < legendItems.length; i++) {\n        // legendItems.\n        if (!legendItems[i].hidden) {\n          count = count + 1;\n          iValue = i;\n        }\n      }\n\n      let firstTime = count === legendItems.length ? true : false;\n\n      li.onclick = (p, p2, p3) => {\n        const {\n          type\n        } = chart.config;\n\n        if (type === \"pie\" || type === \"doughnut\") {\n          for (let i = 0; i < legendItems.length; i++) {\n            if (firstTime) {\n              if (i !== item.index) {\n                chart.toggleDataVisibility(i);\n              }\n            }\n          }\n\n          if (!firstTime) {\n            chart.toggleDataVisibility(item.index);\n          }\n\n          if (count === 1 && iValue === item.index) {\n            for (let i = 0; i < legendItems.length; i++) {\n              chart.toggleDataVisibility(i);\n            }\n          }\n        }\n\n        chart.update();\n      }; // Color box\n\n\n      const boxSpan = document.createElement(\"span\");\n      boxSpan.style.background = item.fillStyle;\n      boxSpan.style.borderColor = item.strokeStyle;\n      boxSpan.style.borderWidth = item.lineWidth + \"px\";\n      boxSpan.style.display = \"inline-block\";\n      boxSpan.style.height = \"20px\";\n      boxSpan.style.marginRight = \"10px\";\n      boxSpan.style.width = \"20px\"; // Text\n\n      const textContainer = document.createElement(\"p\");\n      textContainer.style.color = item.fontColor;\n      textContainer.style.margin = 0;\n      textContainer.style.padding = 0;\n      textContainer.style.textDecoration = firstTime ? item.hidden ? \"line-through\" : \"\" : item.hidden ? \"\" : \"line-through\";\n      const text = document.createTextNode(item.text);\n      textContainer.appendChild(text);\n      li.appendChild(boxSpan);\n      li.appendChild(textContainer);\n      ul.appendChild(li);\n    });\n  }\n\n};\n\nconst dynamicColors = function () {\n  const r = Math.floor(Math.random() * 255);\n  const g = Math.floor(Math.random() * 255);\n  const b = Math.floor(Math.random() * 255);\n  return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n};\n\ndata.labels.forEach(() => data.datasets[0].backgroundColor.push(dynamicColors()));\nconst total = data.datasets[0].data.reduce((a, b) => a + b, 0);\n\nfunction App() {\n  _s();\n\n  const myChart = useRef();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \"Pie Chart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"300px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Doughnut, {\n          ref: myChart,\n          data: data,\n          plugins: [htmlLegendPlugin],\n          options: {\n            plugins: {\n              htmlLegend: {\n                // ID of the container to put the legend in\n                containerID: \"js-legend\"\n              },\n              legend: {\n                display: false\n              },\n              tooltip: {\n                callbacks: {\n                  label: function (context) {\n                    let legends = myChart.current.legend.legendItems;\n                    let chartData = myChart.current._metasets[0]._parsed;\n                    let count = 0;\n\n                    for (let i = 0; i < legends.length; i++) {\n                      if (!legends[i].hidden) {\n                        count += chartData[i];\n                      }\n                    }\n\n                    let label = context.label || \"\";\n                    let percentage = count === 0 ? (100 * (context.parsed || 0) / total).toFixed(2) : (100 * (context.parsed || 0) / count).toFixed(2);\n                    label += \": \" + percentage + \"%\";\n                    return label;\n                  }\n                }\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"js-legend\",\n        className: \"chart-legend\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(App, \"O6bqJz7q1nOW9WIMVeWSOTL647Q=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["D:/dougnut-chart-library/src/App.js"],"names":["chart","React","useRef","Doughnut","Pie","data","labels","datasets","backgroundColor","getOrCreateLegendList","id","legendContainer","document","getElementById","listContainer","querySelector","createElement","style","display","flexDirection","margin","padding","appendChild","htmlLegendPlugin","afterUpdate","args","options","ul","containerID","firstChild","remove","items","plugins","legend","generateLabels","forEach","item","li","alignItems","cursor","marginLeft","marginBottom","legendItems","count","iValue","i","length","hidden","firstTime","onclick","p","p2","p3","type","config","index","toggleDataVisibility","update","boxSpan","background","fillStyle","borderColor","strokeStyle","borderWidth","lineWidth","height","marginRight","width","textContainer","color","fontColor","textDecoration","text","createTextNode","dynamicColors","r","Math","floor","random","g","b","push","total","reduce","a","App","myChart","htmlLegend","tooltip","callbacks","label","context","legends","current","chartData","_metasets","_parsed","percentage","parsed","toFixed"],"mappings":"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","sourcesContent":["import chart from \"chart.js/dist/chart\";\nimport React, { useRef } from \"react\";\nimport { Doughnut, Pie } from \"react-chartjs-2\";\nimport \"./App.css\";\n\nconst data = {\n  labels: [\n    \"lable_1\",\n    \"lable_2\",\n    \"lable_3\",\n    \"lable_4\",\n    \"lable_5\",\n    \"lable_6\",\n    \"lable_7\",\n    \"lable_8\",\n    \"lable_9\",\n    \"lable_10\",\n    \"lable_11\",\n    \"lable_12\",\n    \"lable_13\",\n    \"lable_14\",\n    \"lable_15\",\n    \"lable_16\",\n    \"lable_17\",\n    \"lable_18\",\n    \"lable_19\",\n    \"lable_20\",\n    \"lable_21\",\n    \"lable_22\",\n    \"lable_23\",\n    \"lable_24\",\n    \"lable_25\",\n    \"lable_26\",\n    \"lable_27\",\n    \"lable_28\",\n    \"lable_29\",\n    \"lable_30\",\n    \"lable_31\",\n    \"lable_32\",\n    \"lable_33\",\n    \"lable_34\",\n    \"lable_35\",\n    \"lable_36\",\n    \"lable_37\",\n    \"lable_38\",\n    \"lable_39\",\n    \"lable_40\",\n    \"lable_41\",\n    \"lable_42\",\n    \"lable_43\",\n    \"lable_44\",\n    \"lable_45\",\n    \"lable_46\",\n    \"lable_47\",\n    \"lable_48\",\n    \"lable_49\",\n    \"lable_50\",\n  ],\n  datasets: [\n    {\n      backgroundColor: [],\n      data: [\n        74, 22, 77, 19, 72, 17, 55, 14, 64, 93, 99, 58, 6, 13, 31, 61, 19, 97,\n        25, 94, 50, 83, 3, 15, 54, 19, 60, 41, 37, 27, 51, 21, 36, 69, 80, 20,\n        64, 74, 79, 48, 66, 1, 94, 57, 5, 18, 83, 41, 64, 48,\n      ],\n    },\n  ],\n};\nconst getOrCreateLegendList = (chart, id) => {\n  const legendContainer = document.getElementById(id);\n  let listContainer = legendContainer.querySelector(\"ul\");\n\n  if (!listContainer) {\n    listContainer = document.createElement(\"ul\");\n    listContainer.style.display = \"flex\";\n    listContainer.style.flexDirection = \"column\";\n    listContainer.style.margin = 0;\n    listContainer.style.padding = 0;\n\n    legendContainer.appendChild(listContainer);\n  }\n\n  return listContainer;\n};\nconst htmlLegendPlugin = {\n  id: \"htmlLegend\",\n  afterUpdate(chart, args, options) {\n    const ul = getOrCreateLegendList(chart, options.containerID);\n\n    // Remove old legend items\n    while (ul.firstChild) {\n      ul.firstChild.remove();\n    }\n\n    // Reuse the built-in legendItems generator\n    const items = chart.options.plugins.legend.labels.generateLabels(chart);\n\n    items.forEach((item) => {\n      const li = document.createElement(\"li\");\n      li.style.alignItems = \"center\";\n      li.style.cursor = \"pointer\";\n      li.style.display = \"flex\";\n      li.style.flexDirection = \"row\";\n      li.style.marginLeft = \"10px\";\n      li.style.marginBottom = \"5px\";\n      let legendItems = chart.legend.legendItems;\n      let count = 0;\n      let iValue = -1;\n      for (let i = 0; i < legendItems.length; i++) {\n        // legendItems.\n        if (!legendItems[i].hidden) {\n          count = count + 1;\n          iValue = i;\n        }\n      }\n      let firstTime = count === legendItems.length ? true : false;\n      li.onclick = (p, p2, p3) => {\n\n        const { type } = chart.config;\n        if (type === \"pie\" || type === \"doughnut\") {\n\n          for (let i = 0; i < legendItems.length; i++) {\n            if (firstTime) {\n              if (i !== item.index) {\n                chart.toggleDataVisibility(i);\n              }\n            }\n          }\n          if (!firstTime) {\n            chart.toggleDataVisibility(item.index);\n          }\n          if (count === 1 && iValue === item.index) {\n            for (let i = 0; i < legendItems.length; i++) {\n              chart.toggleDataVisibility(i);\n            }\n          }\n\n        }\n        chart.update();\n      };\n\n      // Color box\n      const boxSpan = document.createElement(\"span\");\n      boxSpan.style.background = item.fillStyle;\n      boxSpan.style.borderColor = item.strokeStyle;\n      boxSpan.style.borderWidth = item.lineWidth + \"px\";\n      boxSpan.style.display = \"inline-block\";\n      boxSpan.style.height = \"20px\";\n      boxSpan.style.marginRight = \"10px\";\n      boxSpan.style.width = \"20px\";\n\n      // Text\n      const textContainer = document.createElement(\"p\");\n      textContainer.style.color = item.fontColor;\n      textContainer.style.margin = 0;\n      textContainer.style.padding = 0;\n      textContainer.style.textDecoration = firstTime ? item.hidden ? \"line-through\" : \"\" : item.hidden ? \"\" : \"line-through\";\n\n      const text = document.createTextNode(item.text);\n      textContainer.appendChild(text);\n\n      li.appendChild(boxSpan);\n      li.appendChild(textContainer);\n      ul.appendChild(li);\n    });\n  },\n};\nconst dynamicColors = function () {\n  const r = Math.floor(Math.random() * 255);\n  const g = Math.floor(Math.random() * 255);\n  const b = Math.floor(Math.random() * 255);\n  return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n};\n\ndata.labels.forEach(() =>\n  data.datasets[0].backgroundColor.push(dynamicColors())\n);\n\nconst total = data.datasets[0].data.reduce((a, b) => a + b, 0);\n\nfunction App() {\n  const myChart = useRef();\n\n  return (\n    <>\n      <div className=\"header\">\n        <h1 className=\"title\">Pie Chart</h1>\n      </div>\n      <div style={{ display: \"flex\" }}>\n        <div style={{ width: \"300px\" }}>\n          <Doughnut\n            ref={myChart}\n            data={data}\n            plugins={[htmlLegendPlugin]}\n            options={{\n              plugins: {\n                htmlLegend: {\n                  // ID of the container to put the legend in\n                  containerID: \"js-legend\",\n                },\n\n                legend: {\n                  display: false,\n                },\n                tooltip: {\n                  callbacks: {\n                    label: function (context) {\n                      let legends = myChart.current.legend.legendItems;\n                      let chartData = myChart.current._metasets[0]._parsed;\n                      let count = 0;\n                      for (let i = 0; i < legends.length; i++) {\n                        if (!legends[i].hidden) {\n                          count += chartData[i];\n                        }\n                      }\n                      let label = context.label || \"\";\n                      let percentage = count === 0 ?\n                        ((100 * (context.parsed || 0)) / total).toFixed(2) :\n                        ((100 * (context.parsed || 0)) / count).toFixed(2)\n\n                      label += \": \" + percentage + \"%\";\n                      return label;\n                    },\n                  },\n                },\n              },\n            }}\n          />\n        </div>\n        <div id=\"js-legend\" className=\"chart-legend\"></div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}